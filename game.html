<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The Coin Hunt</title>
  <script language="JavaScript" src="game.js"></script>
  <script language="JavaScript" src="highscore.js"></script>
  <style>
    #title,
    #author,
    #descriptions,
    text {
      font-family: Verdana, Helvetica, sans-serif;
      font-weight: bold;
      pointer-events: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    #descriptions {
      font-size: 28px
    }

    #start {
      font-size: 40px;
      fill: white
    }

    #startagain {
      font-size: 28px;
      fill: white
    }

    #gamewindow {
      stroke: crimson;
      stroke-width: 20
    }

    #highscoretitle {
      fill: crimson;
      font-size: 32px;
      font-weight: bold;
      text-anchor: middle
    }

    #highscorearea {
      fill: url(#startscreenpattern);
      stroke: crimson;
      stroke-width: 10
    }

    #highscoretext {
      font-size: 20px;
      font-weight: bold
    }

    #gameareabackground {
      fill: lightcyan
    }

    .button {
      fill: crimson
    }

    .platform {
      fill: sandybrown
    }

    .disappearingplatform {
      fill: orangered;
    }

    .displayarea {
      fill: crimson
    }

    .displaylabel {
      fill: white;
      font-size: small
    }

    .displaytext {
      fill: white
    }
  </style>
</head>

<body style="text-align: center" onload="onLoad()">
  <svg width="800px" height="600px" xmlns="http://www.w3.org/2000/svg" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://www.adobe.com/svg10-extensions" a:timeline="independent">

    <defs>
      <clipPath id="gameareaclip">
        <rect x="20" y="20" width="600" height="560" />
      </clipPath>

      <pattern id="backgroundpattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
        <rect width="20" height="20" style="fill:Orange" />
        <rect width="10" height="10" style="fill:yellow" />
        <rect x="10" y="10" width="10" height="10" style="fill:yellow" />
      </pattern>

      <pattern id="startscreenpattern" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
        <rect width="40" height="40" style="fill:PowderBlue" />
        <rect width="20" height="20" style="fill:PaleTurquoise" />
        <rect x="20" y="20" width="20" height="20" style="fill:PaleTurquoise" />
      </pattern>

      <g id="monsterbullet">
        <circle cx="5" cy="5" r="5" style="fill:blue" />
      </g>

      <g id="monster" inkscape:label="Layer 1" inkscape:groupmode="layer" transform="translate(-3.9734167,9.9337414)">
        <circle style="fill:#e6e6e6" id="path12" cx="23.973417" cy="10.066258" r="20" />
        <path id="path169" style="fill:#000000;stroke:none;stroke-width:0.973015" d="m 34.473417,6.6162585 a 3,3 0 0 0 3,3 3,3 0 0 0 3,-3 z" />
        <path id="path169-3" style="fill:#000000;stroke:none;stroke-width:0.973015" d="m 22.473417,6.6162585 a 3,3 0 0 0 3,3 3,3 0 0 0 3,-3 z" />
        <path id="path169-0" style="fill:#000000;stroke:none;stroke-width:1.94603" d="m 37.442948,16.216258 a 6,6 0 0 0 0.03047,-0.599999 6,6 0 0 0 -6,-6 6,6 0 0 0 -5.999999,5.999999 6,6 0 0 0 0.03047,0.6 z" />
        <rect style="fill:#000000;stroke:none;stroke-width:0.65721" id="rect209" width="12" height="2.4000001" x="25.473415" y="15.6162599">
          <animate attributeName="height" values="2.4000001; 9; 2.4000001" dur="2s" repeatCount="indefinite" />
          <rect />
      </g>

      <g id="bullet">
        <circle cx="5" cy="5" r="5" style="fill:purple" />
      </g>

      <g id="goodthing">
        <circle cx="20" cy="20" r="20" style="fill:green" />
        <text x="20" y="20" style="fill:white;font-size:30px" text-anchor="middle" alignment-baseline="middle">$</text>
      </g>
    </defs>

    <rect width="100%" height="100%" style="fill:url(#backgroundpattern)" />

    <rect id="gamewindow" x="20" y="20" width="600" height="560" />

    <g style="clip-path:url(#gameareaclip)">
      <g transform="translate(20,20)">
        <g id="gamearea" transform="translate(0,0)" width="600" height="560">
          <rect id="gameareabackground" x="0" y="0" width="600" height="560" />
          <g id="platforms">
            <!-- 60 -->
            <rect class="platform" width="60" height="20" x="0" y="60" />

            <!-- 80 -->
            <rect class="platform" width="20" height="20" x="40" y="80" />

            <!-- 100 -->
            <rect class="platform" width="60" height="20" x="40" y="100" />
            <rect id="disappearingplatform0" class="platform disappearingplatform" width="80" height="20" x="100" y="100" />
            <rect class="platform" width="80" height="20" x="180" y="100" />
            <rect id="disappearingplatform1" class="platform disappearingplatform" width="80" height="20" x="260" y="100" />
            <rect class="platform" width="160" height="20" x="340" y="100" />
            <rect id="verticalplatform" class="platform" width="40" height="20" x="560" y="100" />

            <!-- 120 -->
            <rect class="platform" width="40" height="20" x="220" y="120" />

            <!-- 140 -->
            <rect class="platform" width="40" height="20" x="220" y="140" />

            <!-- 160 -->
            <rect class="platform" width="120" height="20" x="180" y="160" />

            <!-- 200 -->
            <rect class="platform" width="40" height="20" x="80" y="200" />
            <rect class="platform" width="80" height="20" x="360" y="200" />

            <!-- 220 -->
            <rect id="disappearingplatform2" class="platform disappearingplatform" width="80" height="20" x="0" y="220" />
            <rect class="platform" width="80" height="20" x="80" y="220" />

            <rect class="platform" width="140" height="20" x="320" y="220" />

            <!-- 240 -->
            <rect class="platform" width="160" height="20" x="340" y="240" />

            <!-- 260 -->
            <rect class="platform" width="60" height="20" x="220" y="260" />

            <!-- 280 -->
            <rect class="platform" width="100" height="20" x="200" y="280" />

            <!-- 300 -->
            <rect class="platform" width="100" height="20" x="120" y="300" />
            <rect class="platform" width="40" height="20" x="280" y="300" />

            <!-- 320 -->
            <rect class="platform" width="40" height="20" x="0" y="320" />
            <rect class="platform" width="60" height="20" x="280" y="320" />

            <!-- 340 -->
            <rect class="platform" width="60" height="20" x="0" y="340" />
            <rect class="platform" width="60" height="20" x="380" y="340" />

            <!-- 360 -->
            <rect class="platform" width="120" height="20" x="0" y="360" />
            <rect class="platform" width="120" height="20" x="380" y="360" />

            <!-- 380 -->
            <rect class="platform" width="100" height="20" x="0" y="380" />

            <!-- 400 -->
            <rect class="platform" width="80" height="20" x="180" y="400" />
            <rect class="platform" width="40" height="20" x="560" y="400" />

            <!-- 420 -->
            <rect class="platform" width="200" height="20" x="160" y="420" />
            <rect class="platform" width="60" height="20" x="540" y="420" />

            <!-- 440 -->
            <rect class="platform" width="100" height="20" x="140" y="440" />
            <rect class="platform" width="60" height="20" x="500" y="440" />

            <!-- 460 -->
            <rect class="platform" width="60" height="20" x="120" y="460" />
            <rect class="platform" width="60" height="20" x="400" y="460" />

            <!-- 480 -->
            <rect class="platform" width="40" height="20" x="0" y="480" />
            <rect class="platform" width="60" height="20" x="380" y="480" />

            <!-- 500 -->
            <rect class="platform" width="60" height="20" x="0" y="500" />

            <!-- 520 -->
            <rect class="platform" width="80" height="20" x="0" y="520" />

            <!-- the floor -->
            <rect class="platform" width="600" height="20" x="0" y="540" />
          </g>

          <g id="exit">
            <rect width="40" height="40" style="fill:black" />
            <rect width="40" height="20" style="fill:green" />
            <text x="20" y="10" dominant-baseline="middle" text-anchor="middle" style="fill:white;font-size:small">EXIT</text>
          </g>

          <g id="portal1">
            <circle cx="20" cy="20" r="20" style="fill:blue" />
            <circle cx="20" cy="20" r="15" style="fill:black" />
          </g>

          <g id="portal2">
            <circle cx="20" cy="20" r="20" style="fill:orange" />
            <circle cx="20" cy="20" r="15" style="fill:black" />
          </g>

          <g id="goodthings" />
          <g id="monsterbullets" />
          <g id="monsters" />
          <g id="bullets" />

          <g id="player">
            <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="playerbody">
              <circle style="fill:#ffdd55" id="path12" cx="20" cy="20" r="20" />
              <path id="path169-0" style="fill:#2b0000;stroke:none;stroke-width:2.83797"
                d="M 18.5,21.5 A 8.7500007,8.7500007 0 0 0 27.25,30.25 8.7500007,8.7500007 0 0 0 36,21.5 h -1.75 a 7.0000006,7.0000006 0 0 1 -7,7 7.0000006,7.0000006 0 0 1 -7,-7 z" transform="translate(0.9734167,-0.9337414)" />
              <circle style="fill:#000000;stroke-width:1.39758" id="path17" cx="25.348417" cy="16.0662584" r="3" />
              <circle style="fill:#000000;stroke-width:1.39758" id="path17-5" cx="34.048569" cy="16.0662584" r="3" />
            </g>
            <text id="nametag" x="20" y="-5" class="small" text-anchor="middle">Anonymous</text>
          </g>
        </g>

        <g id="highscoretable" transform="translate(40, 40)">
          <rect id="highscorearea" width="520" height="480" />
          <text id="highscoretitle" x="260" y="40">High Score Table</text>
          <text id="highscoretext" y="45" />
          <g id="startagainbutton" onclick="startGame()">
            <rect class="button" x="160" y="380" width="200" height="80" />
            <text id="startagain" x="260" y="420" dominant-baseline="middle" text-anchor="middle">Start again?</text>
          </g>
        </g>
      </g>
    </g>

    <g id="displays">
      <g id="leveldisplay">
        <rect class="displayarea" x="640" y="100" width="150" height="60" />
        <text class="displaylabel" x="715" y="125" text-anchor="middle">Level:</text>
        <text class="displaytext" id="leveltext" x="715" y="150" text-anchor="middle">1</text>
      </g>

      <g id="timedisplay">
        <rect class="displayarea" x="640" y="200" width="150" height="60" />
        <text class="displaylabel" x="715" y="225" text-anchor="middle">Time remaining:</text>
        <text class="displaytext" id="timetext" x="715" y="250" text-anchor="middle">0 sec.</text>
      </g>

      <g id="scoredisplay">
        <rect class="displayarea" x="640" y="300" width="150" height="60" />
        <text class="displaylabel" x="715" y="325" text-anchor="middle">Score:</text>
        <text class="displaytext" id="scoretext" x="715" y="350" text-anchor="middle">0</text>
      </g>

      <g id="bulletsdisplay">
        <rect class="displayarea" x="640" y="400" width="150" height="60" />
        <text class="displaylabel" x="715" y="425" text-anchor="middle">Bullets remaining:</text>
        <text class="displaytext" id="bulletstext" x="715" y="450" text-anchor="middle">8</text>
      </g>
    </g>

    <g id="startscreen">
      <rect width="100%" height="100%" style="fill:url(#startscreenpattern)" />
      <foreignObject x="0" y="0" width="100%" height="100%">

        <body>
          <h1 id="title">The Coin Hunt</h1>
          <h2 id="author">Ka Chung LAM (9021)</h2>
          <p id="descriptions">
            You are a coin hunter. You need to collect as many coins as possible. Use the A key to go left. The D key to go right and the W key to jump. Ghosts are going to stop you on the way. Use the H key to shoot and kill them. Pick up all
            coins and go to the exit quickly.
          </p>
        </body>
      </foreignObject>
      <g id="startbutton" onclick="startGame()">
        <rect class="button" x="35%" y="80%" width="30%" height="13.33333%" />
        <text id="start" x="50%" y="86.66666%" dominant-baseline="middle" text-anchor="middle">Start</text>
      </g>
    </g>
  </svg>
</body>

</html>
